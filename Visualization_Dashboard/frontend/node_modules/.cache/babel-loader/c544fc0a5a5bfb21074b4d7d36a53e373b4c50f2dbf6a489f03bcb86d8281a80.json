{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\OneDrive\\\\Desktop\\\\new\\\\frontend\\\\src\\\\components\\\\charts\\\\TimeseriesChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport api from '../../services/api';\nimport CardContainer from '../common/CardContainer';\nimport Loader from '../common/Loader';\nimport NoDataMessage from '../common/NoDataMessage';\nimport { formatNumber, createTooltip, debounce } from '../../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimeseriesChart = ({\n  metric = 'intensity'\n}) => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const svgRef = useRef(null);\n  const containerRef = useRef(null);\n  const tooltipRef = useRef(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const timeseriesData = await api.getTimeseries(metric);\n        // Filter out any invalid data points\n        const validData = timeseriesData.filter(item => item.year && !isNaN(item.year) && item.value && !isNaN(item.value));\n        setData(validData);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching timeseries data:', err);\n        setError('Failed to load timeseries data');\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [metric]);\n  useEffect(() => {\n    if (data.length > 0 && !loading) {\n      drawChart();\n\n      // Add resize listener\n      const handleResize = debounce(() => {\n        drawChart();\n      }, 300);\n      window.addEventListener('resize', handleResize);\n      return () => window.removeEventListener('resize', handleResize);\n    }\n  }, [data, loading]);\n  const drawChart = () => {\n    if (!svgRef.current || !containerRef.current) return;\n\n    // Clear previous chart\n    d3.select(svgRef.current).selectAll('*').remove();\n\n    // Set dimensions\n    const containerWidth = containerRef.current.clientWidth;\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 50,\n      left: 60\n    };\n    const width = containerWidth - margin.left - margin.right;\n    const height = 300 - margin.top - margin.bottom;\n\n    // Create SVG\n    const svg = d3.select(svgRef.current).attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Create tooltip if not already created\n    if (!tooltipRef.current) {\n      tooltipRef.current = createTooltip(d3);\n    }\n\n    // Create scales\n    const xScale = d3.scaleLinear().domain(d3.extent(data, d => d.year)).range([0, width]);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.value) * 1.1]).range([height, 0]);\n\n    // Create axes with simplified ticks\n    const xAxis = d3.axisBottom(xScale).tickFormat('') // Remove tick values from x-axis\n    .tickSize(0); // Remove tick marks\n\n    const yAxis = d3.axisLeft(yScale).tickValues([0, d3.max(data, d => d.value) * 1.1]) // Only show min and max values\n    .tickFormat(d => formatNumber(d));\n\n    // Add X axis (only label, no values)\n    svg.append('g').attr('class', 'axis').attr('transform', `translate(0,${height})`).call(xAxis).append('text').attr('class', 'axis-label').attr('x', width / 2).attr('y', 40).attr('fill', 'var(--dark-text)').attr('text-anchor', 'middle').text('Year');\n\n    // Add Y axis (only min and max values)\n    svg.append('g').attr('class', 'axis').call(yAxis).append('text').attr('class', 'axis-label').attr('transform', 'rotate(-90)').attr('y', -40).attr('x', -height / 2).attr('fill', 'var(--dark-text)').attr('text-anchor', 'middle').text(metric.charAt(0).toUpperCase() + metric.slice(1));\n\n    // Create line generator\n    const line = d3.line().x(d => xScale(d.year)).y(d => yScale(d.value)).curve(d3.curveMonotoneX);\n\n    // Add area\n    const area = d3.area().x(d => xScale(d.year)).y0(height).y1(d => yScale(d.value)).curve(d3.curveMonotoneX);\n    svg.append('path').datum(data).attr('class', 'area').attr('d', area);\n\n    // Add line\n    svg.append('path').datum(data).attr('class', 'line').attr('d', line);\n\n    // Create invisible overlay for tooltips on line\n    const focus = svg.append('g').attr('class', 'focus').style('display', 'none');\n    focus.append('circle').attr('r', 5);\n    const overlay = svg.append('rect').attr('class', 'overlay').attr('width', width).attr('height', height).style('opacity', 0).on('mouseover', () => focus.style('display', null)).on('mouseout', () => {\n      focus.style('display', 'none');\n      tooltipRef.current.style('opacity', 0);\n    }).on('mousemove', mousemove);\n    function mousemove(event) {\n      const bisect = d3.bisector(d => d.year).left;\n      const x0 = xScale.invert(d3.pointer(event)[0]);\n      const i = bisect(data, x0, 1);\n      const d0 = data[i - 1];\n      const d1 = data[i] || d0;\n      const d = x0 - d0.year > d1.year - x0 ? d1 : d0;\n      focus.attr('transform', `translate(${xScale(d.year)},${yScale(d.value)})`);\n      tooltipRef.current.style('opacity', 1).html(`\n          <strong>Year:</strong> ${d.year}<br>\n          <strong>${metric.charAt(0).toUpperCase() + metric.slice(1)}:</strong> ${formatNumber(d.value)}<br>\n          <strong>Count:</strong> ${d.count || 'N/A'} records\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 20 + 'px');\n    }\n\n    // Add dots\n    svg.selectAll('.dot').data(data).enter().append('circle').attr('class', 'dot').attr('cx', d => xScale(d.year)).attr('cy', d => yScale(d.value)).attr('r', 5).on('mouseover', function (event, d) {\n      d3.select(this).attr('r', 7);\n      tooltipRef.current.style('opacity', 1).html(`\n            <strong>Year:</strong> ${d.year}<br>\n            <strong>${metric.charAt(0).toUpperCase() + metric.slice(1)}:</strong> ${formatNumber(d.value)}<br>\n            <strong>Count:</strong> ${d.count || 'N/A'} records\n          `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 20 + 'px');\n    }).on('mouseout', function () {\n      d3.select(this).attr('r', 5);\n      tooltipRef.current.style('opacity', 0);\n    });\n  };\n  const renderActionButtons = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-actions\",\n    children: /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"chart-select\",\n      value: metric,\n      onChange: e => window.location.href = `?metric=${e.target.value}`,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"intensity\",\n        children: \"Intensity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"likelihood\",\n        children: \"Likelihood\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"relevance\",\n        children: \"Relevance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    title: `${metric.charAt(0).toUpperCase() + metric.slice(1)} Over Time`,\n    actionButtons: renderActionButtons(),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        width: '100%',\n        height: '300px'\n      },\n      children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n        message: \"Loading timeseries data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(NoDataMessage, {\n        message: error,\n        icon: \"\\u26A0\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this) : data.length === 0 ? /*#__PURE__*/_jsxDEV(NoDataMessage, {\n        message: \"No timeseries data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        className: \"chart-svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n_s(TimeseriesChart, \"PRMKkQ0CFgksNpVEJdT7wYdWMf0=\");\n_c = TimeseriesChart;\nexport default TimeseriesChart;\nvar _c;\n$RefreshReg$(_c, \"TimeseriesChart\");","map":{"version":3,"names":["React","useState","useEffect","useRef","d3","api","CardContainer","Loader","NoDataMessage","formatNumber","createTooltip","debounce","jsxDEV","_jsxDEV","TimeseriesChart","metric","_s","data","setData","loading","setLoading","error","setError","svgRef","containerRef","tooltipRef","fetchData","timeseriesData","getTimeseries","validData","filter","item","year","isNaN","value","err","console","length","drawChart","handleResize","window","addEventListener","removeEventListener","current","select","selectAll","remove","containerWidth","clientWidth","margin","top","right","bottom","left","width","height","svg","attr","append","xScale","scaleLinear","domain","extent","d","range","yScale","max","xAxis","axisBottom","tickFormat","tickSize","yAxis","axisLeft","tickValues","call","text","charAt","toUpperCase","slice","line","x","y","curve","curveMonotoneX","area","y0","y1","datum","focus","style","overlay","on","mousemove","event","bisect","bisector","x0","invert","pointer","i","d0","d1","html","count","pageX","pageY","enter","renderActionButtons","className","children","onChange","e","location","href","target","fileName","_jsxFileName","lineNumber","columnNumber","title","actionButtons","ref","message","icon","_c","$RefreshReg$"],"sources":["C:/Users/Dell/OneDrive/Desktop/new/frontend/src/components/charts/TimeseriesChart.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\nimport api from '../../services/api';\r\nimport CardContainer from '../common/CardContainer';\r\nimport Loader from '../common/Loader';\r\nimport NoDataMessage from '../common/NoDataMessage';\r\nimport { formatNumber, createTooltip, debounce } from '../../utils/helpers';\r\n\r\nconst TimeseriesChart = ({ metric = 'intensity' }) => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const svgRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const timeseriesData = await api.getTimeseries(metric);\r\n        // Filter out any invalid data points\r\n        const validData = timeseriesData.filter(item => \r\n          item.year && !isNaN(item.year) && item.value && !isNaN(item.value)\r\n        );\r\n        setData(validData);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error fetching timeseries data:', err);\r\n        setError('Failed to load timeseries data');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [metric]);\r\n\r\n  useEffect(() => {\r\n    if (data.length > 0 && !loading) {\r\n      drawChart();\r\n      \r\n      // Add resize listener\r\n      const handleResize = debounce(() => {\r\n        drawChart();\r\n      }, 300);\r\n      \r\n      window.addEventListener('resize', handleResize);\r\n      return () => window.removeEventListener('resize', handleResize);\r\n    }\r\n  }, [data, loading]);\r\n\r\n  const drawChart = () => {\r\n    if (!svgRef.current || !containerRef.current) return;\r\n\r\n    // Clear previous chart\r\n    d3.select(svgRef.current).selectAll('*').remove();\r\n\r\n    // Set dimensions\r\n    const containerWidth = containerRef.current.clientWidth;\r\n    const margin = { top: 20, right: 30, bottom: 50, left: 60 };\r\n    const width = containerWidth - margin.left - margin.right;\r\n    const height = 300 - margin.top - margin.bottom;\r\n\r\n    // Create SVG\r\n    const svg = d3.select(svgRef.current)\r\n      .attr('width', width + margin.left + margin.right)\r\n      .attr('height', height + margin.top + margin.bottom)\r\n      .append('g')\r\n      .attr('transform', `translate(${margin.left},${margin.top})`);\r\n\r\n    // Create tooltip if not already created\r\n    if (!tooltipRef.current) {\r\n      tooltipRef.current = createTooltip(d3);\r\n    }\r\n\r\n    // Create scales\r\n    const xScale = d3.scaleLinear()\r\n      .domain(d3.extent(data, d => d.year))\r\n      .range([0, width]);\r\n\r\n    const yScale = d3.scaleLinear()\r\n      .domain([0, d3.max(data, d => d.value) * 1.1])\r\n      .range([height, 0]);\r\n\r\n    // Create axes with simplified ticks\r\n    const xAxis = d3.axisBottom(xScale)\r\n      .tickFormat('') // Remove tick values from x-axis\r\n      .tickSize(0); // Remove tick marks\r\n\r\n    const yAxis = d3.axisLeft(yScale)\r\n      .tickValues([0, d3.max(data, d => d.value) * 1.1]) // Only show min and max values\r\n      .tickFormat(d => formatNumber(d));\r\n\r\n    // Add X axis (only label, no values)\r\n    svg.append('g')\r\n      .attr('class', 'axis')\r\n      .attr('transform', `translate(0,${height})`)\r\n      .call(xAxis)\r\n      .append('text')\r\n      .attr('class', 'axis-label')\r\n      .attr('x', width / 2)\r\n      .attr('y', 40)\r\n      .attr('fill', 'var(--dark-text)')\r\n      .attr('text-anchor', 'middle')\r\n      .text('Year');\r\n\r\n    // Add Y axis (only min and max values)\r\n    svg.append('g')\r\n      .attr('class', 'axis')\r\n      .call(yAxis)\r\n      .append('text')\r\n      .attr('class', 'axis-label')\r\n      .attr('transform', 'rotate(-90)')\r\n      .attr('y', -40)\r\n      .attr('x', -height / 2)\r\n      .attr('fill', 'var(--dark-text)')\r\n      .attr('text-anchor', 'middle')\r\n      .text(metric.charAt(0).toUpperCase() + metric.slice(1));\r\n\r\n    // Create line generator\r\n    const line = d3.line()\r\n      .x(d => xScale(d.year))\r\n      .y(d => yScale(d.value))\r\n      .curve(d3.curveMonotoneX);\r\n\r\n    // Add area\r\n    const area = d3.area()\r\n      .x(d => xScale(d.year))\r\n      .y0(height)\r\n      .y1(d => yScale(d.value))\r\n      .curve(d3.curveMonotoneX);\r\n\r\n    svg.append('path')\r\n      .datum(data)\r\n      .attr('class', 'area')\r\n      .attr('d', area);\r\n\r\n    // Add line\r\n    svg.append('path')\r\n      .datum(data)\r\n      .attr('class', 'line')\r\n      .attr('d', line);\r\n\r\n    // Create invisible overlay for tooltips on line\r\n    const focus = svg.append('g')\r\n      .attr('class', 'focus')\r\n      .style('display', 'none');\r\n\r\n    focus.append('circle')\r\n      .attr('r', 5);\r\n\r\n    const overlay = svg.append('rect')\r\n      .attr('class', 'overlay')\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n      .style('opacity', 0)\r\n      .on('mouseover', () => focus.style('display', null))\r\n      .on('mouseout', () => {\r\n        focus.style('display', 'none');\r\n        tooltipRef.current.style('opacity', 0);\r\n      })\r\n      .on('mousemove', mousemove);\r\n\r\n    function mousemove(event) {\r\n      const bisect = d3.bisector(d => d.year).left;\r\n      const x0 = xScale.invert(d3.pointer(event)[0]);\r\n      const i = bisect(data, x0, 1);\r\n      const d0 = data[i - 1];\r\n      const d1 = data[i] || d0;\r\n      const d = x0 - d0.year > d1.year - x0 ? d1 : d0;\r\n      \r\n      focus.attr('transform', `translate(${xScale(d.year)},${yScale(d.value)})`);\r\n      \r\n      tooltipRef.current\r\n        .style('opacity', 1)\r\n        .html(`\r\n          <strong>Year:</strong> ${d.year}<br>\r\n          <strong>${metric.charAt(0).toUpperCase() + metric.slice(1)}:</strong> ${formatNumber(d.value)}<br>\r\n          <strong>Count:</strong> ${d.count || 'N/A'} records\r\n        `)\r\n        .style('left', (event.pageX + 10) + 'px')\r\n        .style('top', (event.pageY - 20) + 'px');\r\n    }\r\n\r\n    // Add dots\r\n    svg.selectAll('.dot')\r\n      .data(data)\r\n      .enter()\r\n      .append('circle')\r\n      .attr('class', 'dot')\r\n      .attr('cx', d => xScale(d.year))\r\n      .attr('cy', d => yScale(d.value))\r\n      .attr('r', 5)\r\n      .on('mouseover', function(event, d) {\r\n        d3.select(this).attr('r', 7);\r\n        tooltipRef.current\r\n          .style('opacity', 1)\r\n          .html(`\r\n            <strong>Year:</strong> ${d.year}<br>\r\n            <strong>${metric.charAt(0).toUpperCase() + metric.slice(1)}:</strong> ${formatNumber(d.value)}<br>\r\n            <strong>Count:</strong> ${d.count || 'N/A'} records\r\n          `)\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 20) + 'px');\r\n      })\r\n      .on('mouseout', function() {\r\n        d3.select(this).attr('r', 5);\r\n        tooltipRef.current.style('opacity', 0);\r\n      });\r\n  };\r\n\r\n  const renderActionButtons = () => (\r\n    <div className=\"chart-actions\">\r\n      <select\r\n        className=\"chart-select\"\r\n        value={metric}\r\n        onChange={(e) => window.location.href = `?metric=${e.target.value}`}\r\n      >\r\n        <option value=\"intensity\">Intensity</option>\r\n        <option value=\"likelihood\">Likelihood</option>\r\n        <option value=\"relevance\">Relevance</option>\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <CardContainer \r\n      title={`${metric.charAt(0).toUpperCase() + metric.slice(1)} Over Time`} \r\n      actionButtons={renderActionButtons()}\r\n    >\r\n      <div ref={containerRef} style={{ width: '100%', height: '300px' }}>\r\n        {loading ? (\r\n          <Loader message=\"Loading timeseries data...\" />\r\n        ) : error ? (\r\n          <NoDataMessage message={error} icon=\"⚠️\" />\r\n        ) : data.length === 0 ? (\r\n          <NoDataMessage message=\"No timeseries data available\" />\r\n        ) : (\r\n          <svg ref={svgRef} className=\"chart-svg\"></svg>\r\n        )}\r\n      </div>\r\n    </CardContainer>\r\n  );\r\n};\r\n\r\nexport default TimeseriesChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}