{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\OneDrive\\\\Desktop\\\\new\\\\frontend\\\\src\\\\components\\\\charts\\\\YearDistributionChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport api from '../../services/api';\nimport CardContainer from '../common/CardContainer';\nimport Loader from '../common/Loader';\nimport NoDataMessage from '../common/NoDataMessage';\nimport { formatNumber, createTooltip } from '../../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst YearDistributionChart = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const result = await api.getMetrics('year', 'intensity');\n        setData(result);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to load year distribution data');\n        setLoading(false);\n        console.error(err);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (data.length > 0 && svgRef.current) {\n      drawChart();\n    }\n  }, [data]);\n  const drawChart = () => {\n    // Clear previous chart\n    d3.select(svgRef.current).selectAll('*').remove();\n\n    // Filter out any invalid years and sort\n    const validData = data.filter(d => d.name && !isNaN(parseInt(d.name))).sort((a, b) => parseInt(a.name) - parseInt(b.name));\n    if (validData.length === 0) {\n      return;\n    }\n\n    // Chart dimensions\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 50,\n      left: 60\n    };\n    const width = svgRef.current.clientWidth - margin.left - margin.right;\n    const height = 350 - margin.top - margin.bottom;\n\n    // Create SVG\n    const svg = d3.select(svgRef.current).attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Create tooltip\n    if (!tooltipRef.current) {\n      tooltipRef.current = createTooltip(d3);\n    }\n\n    // Scales\n    const x = d3.scaleBand().domain(validData.map(d => d.name)).range([0, width]).padding(0.2);\n    const y = d3.scaleLinear().domain([0, d3.max(validData, d => d.count) * 1.1]).range([height, 0]);\n\n    // Axes\n    svg.append('g').attr('class', 'axis x-axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x)).selectAll('text').style('text-anchor', 'middle');\n    svg.append('g').attr('class', 'axis y-axis').call(d3.axisLeft(y).ticks(5));\n\n    // Grid lines\n    svg.append('g').attr('class', 'grid').call(d3.axisLeft(y).ticks(5).tickSize(-width).tickFormat(''));\n\n    // Bars for count\n    svg.selectAll('.bar').data(validData).enter().append('rect').attr('class', 'bar').attr('x', d => x(d.name)).attr('width', x.bandwidth()).attr('y', d => y(d.count)).attr('height', d => height - y(d.count)).on('mouseover', function (event, d) {\n      tooltipRef.current.transition().duration(200).style('opacity', .9);\n      tooltipRef.current.html(`\n          <strong>Year: ${d.name}</strong><br/>\n          Count: ${d.count}<br/>\n          Average Intensity: ${formatNumber(d.value)}\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n    }).on('mouseout', function () {\n      tooltipRef.current.transition().duration(500).style('opacity', 0);\n    });\n\n    // Line for average intensity\n    const lineGenerator = d3.line().x(d => x(d.name) + x.bandwidth() / 2).y(d => y(d.value * (d3.max(validData, d => d.count) / d3.max(validData, d => d.value)))).curve(d3.curveMonotoneX);\n    svg.append('path').datum(validData).attr('class', 'line').attr('d', lineGenerator).style('stroke', 'var(--accent-color)');\n\n    // Add dots for line points\n    svg.selectAll('.dot').data(validData).enter().append('circle').attr('class', 'dot').attr('cx', d => x(d.name) + x.bandwidth() / 2).attr('cy', d => y(d.value * (d3.max(validData, d => d.count) / d3.max(validData, d => d.value)))).attr('r', 4).style('fill', 'var(--accent-color)').on('mouseover', function (event, d) {\n      tooltipRef.current.transition().duration(200).style('opacity', .9);\n      tooltipRef.current.html(`\n          <strong>Year: ${d.name}</strong><br/>\n          Average Intensity: ${formatNumber(d.value)}<br/>\n          Count: ${d.count}\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n    }).on('mouseout', function () {\n      tooltipRef.current.transition().duration(500).style('opacity', 0);\n    });\n\n    // Legend\n    const legend = svg.append('g').attr('class', 'chart-legend').attr('transform', `translate(${width - 180}, 10)`);\n    legend.append('rect').attr('width', 12).attr('height', 12).attr('class', 'bar').attr('rx', 2);\n    legend.append('text').attr('x', 18).attr('y', 9).attr('dy', '.35em').style('font-size', '10px').text('Number of Insights');\n    legend.append('circle').attr('cx', 6).attr('cy', 30).attr('r', 4).style('fill', 'var(--accent-color)');\n    legend.append('text').attr('x', 18).attr('y', 30).attr('dy', '.35em').style('font-size', '10px').text('Average Intensity');\n\n    // Axes labels\n    svg.append('text').attr('class', 'axis-label').attr('text-anchor', 'middle').attr('x', width / 2).attr('y', height + margin.bottom - 10).text('Year');\n    svg.append('text').attr('class', 'axis-label').attr('text-anchor', 'middle').attr('transform', 'rotate(-90)').attr('x', -height / 2).attr('y', -margin.left + 15).text('Count');\n  };\n\n  // Resize handler\n  useEffect(() => {\n    const handleResize = () => {\n      if (data.length > 0) {\n        drawChart();\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      // Clean up tooltip when component unmounts\n      if (tooltipRef.current) {\n        d3.select('.d3-tooltip').remove();\n        tooltipRef.current = null;\n      }\n    };\n  }, [data]);\n  const actionButtons = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"refresh-btn\",\n    onClick: () => {\n      setLoading(true);\n      api.getMetrics('year', 'intensity').then(result => {\n        setData(result);\n        setLoading(false);\n      }).catch(err => {\n        setError('Failed to refresh data');\n        setLoading(false);\n        console.error(err);\n      });\n    },\n    children: /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-sync-alt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    title: \"Insights Distribution by Year\",\n    actionButtons: actionButtons,\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n      message: \"Loading year distribution data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(NoDataMessage, {\n      message: error,\n      icon: \"\\u26A0\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this) : data.length === 0 ? /*#__PURE__*/_jsxDEV(NoDataMessage, {\n      message: \"No year distribution data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      className: \"chart-svg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n};\n_s(YearDistributionChart, \"YbFMHgXABDKdjffJUo5Hm6prBkQ=\");\n_c = YearDistributionChart;\nexport default YearDistributionChart;\nvar _c;\n$RefreshReg$(_c, \"YearDistributionChart\");","map":{"version":3,"names":["React","useState","useEffect","useRef","d3","api","CardContainer","Loader","NoDataMessage","formatNumber","createTooltip","jsxDEV","_jsxDEV","YearDistributionChart","_s","data","setData","loading","setLoading","error","setError","svgRef","tooltipRef","fetchData","result","getMetrics","err","console","length","current","drawChart","select","selectAll","remove","validData","filter","d","name","isNaN","parseInt","sort","a","b","margin","top","right","bottom","left","width","clientWidth","height","svg","attr","append","x","scaleBand","domain","map","range","padding","y","scaleLinear","max","count","call","axisBottom","style","axisLeft","ticks","tickSize","tickFormat","enter","bandwidth","on","event","transition","duration","html","value","pageX","pageY","lineGenerator","line","curve","curveMonotoneX","datum","legend","text","handleResize","window","addEventListener","removeEventListener","actionButtons","className","onClick","then","catch","children","fileName","_jsxFileName","lineNumber","columnNumber","title","message","icon","ref","_c","$RefreshReg$"],"sources":["C:/Users/Dell/OneDrive/Desktop/new/frontend/src/components/charts/YearDistributionChart.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\nimport api from '../../services/api';\r\nimport CardContainer from '../common/CardContainer';\r\nimport Loader from '../common/Loader';\r\nimport NoDataMessage from '../common/NoDataMessage';\r\nimport { formatNumber, createTooltip } from '../../utils/helpers';\r\n\r\nconst YearDistributionChart = () => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const svgRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const result = await api.getMetrics('year', 'intensity');\r\n        setData(result);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to load year distribution data');\r\n        setLoading(false);\r\n        console.error(err);\r\n      }\r\n    };\r\n    \r\n    fetchData();\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    if (data.length > 0 && svgRef.current) {\r\n      drawChart();\r\n    }\r\n  }, [data]);\r\n  \r\n  const drawChart = () => {\r\n    // Clear previous chart\r\n    d3.select(svgRef.current).selectAll('*').remove();\r\n    \r\n    // Filter out any invalid years and sort\r\n    const validData = data\r\n      .filter(d => d.name && !isNaN(parseInt(d.name)))\r\n      .sort((a, b) => parseInt(a.name) - parseInt(b.name));\r\n    \r\n    if (validData.length === 0) {\r\n      return;\r\n    }\r\n    \r\n    // Chart dimensions\r\n    const margin = { top: 20, right: 30, bottom: 50, left: 60 };\r\n    const width = svgRef.current.clientWidth - margin.left - margin.right;\r\n    const height = 350 - margin.top - margin.bottom;\r\n    \r\n    // Create SVG\r\n    const svg = d3.select(svgRef.current)\r\n      .attr('width', width + margin.left + margin.right)\r\n      .attr('height', height + margin.top + margin.bottom)\r\n      .append('g')\r\n      .attr('transform', `translate(${margin.left},${margin.top})`);\r\n    \r\n    // Create tooltip\r\n    if (!tooltipRef.current) {\r\n      tooltipRef.current = createTooltip(d3);\r\n    }\r\n    \r\n    // Scales\r\n    const x = d3.scaleBand()\r\n      .domain(validData.map(d => d.name))\r\n      .range([0, width])\r\n      .padding(0.2);\r\n    \r\n    const y = d3.scaleLinear()\r\n      .domain([0, d3.max(validData, d => d.count) * 1.1])\r\n      .range([height, 0]);\r\n    \r\n    // Axes\r\n    svg.append('g')\r\n      .attr('class', 'axis x-axis')\r\n      .attr('transform', `translate(0,${height})`)\r\n      .call(d3.axisBottom(x))\r\n      .selectAll('text')\r\n      .style('text-anchor', 'middle');\r\n    \r\n    svg.append('g')\r\n      .attr('class', 'axis y-axis')\r\n      .call(d3.axisLeft(y).ticks(5));\r\n    \r\n    // Grid lines\r\n    svg.append('g')\r\n      .attr('class', 'grid')\r\n      .call(d3.axisLeft(y)\r\n        .ticks(5)\r\n        .tickSize(-width)\r\n        .tickFormat(''));\r\n    \r\n    // Bars for count\r\n    svg.selectAll('.bar')\r\n      .data(validData)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('class', 'bar')\r\n      .attr('x', d => x(d.name))\r\n      .attr('width', x.bandwidth())\r\n      .attr('y', d => y(d.count))\r\n      .attr('height', d => height - y(d.count))\r\n      .on('mouseover', function(event, d) {\r\n        tooltipRef.current.transition()\r\n          .duration(200)\r\n          .style('opacity', .9);\r\n        tooltipRef.current.html(`\r\n          <strong>Year: ${d.name}</strong><br/>\r\n          Count: ${d.count}<br/>\r\n          Average Intensity: ${formatNumber(d.value)}\r\n        `)\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 28) + 'px');\r\n      })\r\n      .on('mouseout', function() {\r\n        tooltipRef.current.transition()\r\n          .duration(500)\r\n          .style('opacity', 0);\r\n      });\r\n    \r\n    // Line for average intensity\r\n    const lineGenerator = d3.line()\r\n      .x(d => x(d.name) + x.bandwidth() / 2)\r\n      .y(d => y(d.value * (d3.max(validData, d => d.count) / d3.max(validData, d => d.value))))\r\n      .curve(d3.curveMonotoneX);\r\n    \r\n    svg.append('path')\r\n      .datum(validData)\r\n      .attr('class', 'line')\r\n      .attr('d', lineGenerator)\r\n      .style('stroke', 'var(--accent-color)');\r\n    \r\n    // Add dots for line points\r\n    svg.selectAll('.dot')\r\n      .data(validData)\r\n      .enter()\r\n      .append('circle')\r\n      .attr('class', 'dot')\r\n      .attr('cx', d => x(d.name) + x.bandwidth() / 2)\r\n      .attr('cy', d => y(d.value * (d3.max(validData, d => d.count) / d3.max(validData, d => d.value))))\r\n      .attr('r', 4)\r\n      .style('fill', 'var(--accent-color)')\r\n      .on('mouseover', function(event, d) {\r\n        tooltipRef.current.transition()\r\n          .duration(200)\r\n          .style('opacity', .9);\r\n        tooltipRef.current.html(`\r\n          <strong>Year: ${d.name}</strong><br/>\r\n          Average Intensity: ${formatNumber(d.value)}<br/>\r\n          Count: ${d.count}\r\n        `)\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 28) + 'px');\r\n      })\r\n      .on('mouseout', function() {\r\n        tooltipRef.current.transition()\r\n          .duration(500)\r\n          .style('opacity', 0);\r\n      });\r\n    \r\n    // Legend\r\n    const legend = svg.append('g')\r\n      .attr('class', 'chart-legend')\r\n      .attr('transform', `translate(${width - 180}, 10)`);\r\n    \r\n    legend.append('rect')\r\n      .attr('width', 12)\r\n      .attr('height', 12)\r\n      .attr('class', 'bar')\r\n      .attr('rx', 2);\r\n    \r\n    legend.append('text')\r\n      .attr('x', 18)\r\n      .attr('y', 9)\r\n      .attr('dy', '.35em')\r\n      .style('font-size', '10px')\r\n      .text('Number of Insights');\r\n    \r\n    legend.append('circle')\r\n      .attr('cx', 6)\r\n      .attr('cy', 30)\r\n      .attr('r', 4)\r\n      .style('fill', 'var(--accent-color)');\r\n    \r\n    legend.append('text')\r\n      .attr('x', 18)\r\n      .attr('y', 30)\r\n      .attr('dy', '.35em')\r\n      .style('font-size', '10px')\r\n      .text('Average Intensity');\r\n    \r\n    // Axes labels\r\n    svg.append('text')\r\n      .attr('class', 'axis-label')\r\n      .attr('text-anchor', 'middle')\r\n      .attr('x', width / 2)\r\n      .attr('y', height + margin.bottom - 10)\r\n      .text('Year');\r\n    \r\n    svg.append('text')\r\n      .attr('class', 'axis-label')\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', 'rotate(-90)')\r\n      .attr('x', -height / 2)\r\n      .attr('y', -margin.left + 15)\r\n      .text('Count');\r\n  };\r\n  \r\n  // Resize handler\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (data.length > 0) {\r\n        drawChart();\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      // Clean up tooltip when component unmounts\r\n      if (tooltipRef.current) {\r\n        d3.select('.d3-tooltip').remove();\r\n        tooltipRef.current = null;\r\n      }\r\n    };\r\n  }, [data]);\r\n  \r\n  const actionButtons = (\r\n    <button className=\"refresh-btn\" onClick={() => {\r\n      setLoading(true);\r\n      api.getMetrics('year', 'intensity')\r\n        .then(result => {\r\n          setData(result);\r\n          setLoading(false);\r\n        })\r\n        .catch(err => {\r\n          setError('Failed to refresh data');\r\n          setLoading(false);\r\n          console.error(err);\r\n        });\r\n    }}>\r\n      <i className=\"fas fa-sync-alt\"></i>\r\n    </button>\r\n  );\r\n  \r\n  return (\r\n    <CardContainer title=\"Insights Distribution by Year\" actionButtons={actionButtons}>\r\n      {loading ? (\r\n        <Loader message=\"Loading year distribution data...\" />\r\n      ) : error ? (\r\n        <NoDataMessage message={error} icon=\"⚠️\" />\r\n      ) : data.length === 0 ? (\r\n        <NoDataMessage message=\"No year distribution data available\" />\r\n      ) : (\r\n        <svg ref={svgRef} className=\"chart-svg\"></svg>\r\n      )}\r\n    </CardContainer>\r\n  );\r\n};\r\n\r\nexport default YearDistributionChart;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAO,KAAKC,EAAE,MAAM,IAAI;AACxB,OAAOC,GAAG,MAAM,oBAAoB;AACpC,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,aAAa,MAAM,yBAAyB;AACnD,SAASC,YAAY,EAAEC,aAAa,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElE,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMoB,MAAM,GAAGlB,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMmB,UAAU,GAAGnB,MAAM,CAAC,IAAI,CAAC;EAE/BD,SAAS,CAAC,MAAM;IACd,MAAMqB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFL,UAAU,CAAC,IAAI,CAAC;QAChB,MAAMM,MAAM,GAAG,MAAMnB,GAAG,CAACoB,UAAU,CAAC,MAAM,EAAE,WAAW,CAAC;QACxDT,OAAO,CAACQ,MAAM,CAAC;QACfN,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAOQ,GAAG,EAAE;QACZN,QAAQ,CAAC,uCAAuC,CAAC;QACjDF,UAAU,CAAC,KAAK,CAAC;QACjBS,OAAO,CAACR,KAAK,CAACO,GAAG,CAAC;MACpB;IACF,CAAC;IAEDH,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAENrB,SAAS,CAAC,MAAM;IACd,IAAIa,IAAI,CAACa,MAAM,GAAG,CAAC,IAAIP,MAAM,CAACQ,OAAO,EAAE;MACrCC,SAAS,CAAC,CAAC;IACb;EACF,CAAC,EAAE,CAACf,IAAI,CAAC,CAAC;EAEV,MAAMe,SAAS,GAAGA,CAAA,KAAM;IACtB;IACA1B,EAAE,CAAC2B,MAAM,CAACV,MAAM,CAACQ,OAAO,CAAC,CAACG,SAAS,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,CAAC;;IAEjD;IACA,MAAMC,SAAS,GAAGnB,IAAI,CACnBoB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,IAAI,CAACC,KAAK,CAACC,QAAQ,CAACH,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAC/CG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKH,QAAQ,CAACE,CAAC,CAACJ,IAAI,CAAC,GAAGE,QAAQ,CAACG,CAAC,CAACL,IAAI,CAAC,CAAC;IAEtD,IAAIH,SAAS,CAACN,MAAM,KAAK,CAAC,EAAE;MAC1B;IACF;;IAEA;IACA,MAAMe,MAAM,GAAG;MAAEC,GAAG,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAG,CAAC;IAC3D,MAAMC,KAAK,GAAG3B,MAAM,CAACQ,OAAO,CAACoB,WAAW,GAAGN,MAAM,CAACI,IAAI,GAAGJ,MAAM,CAACE,KAAK;IACrE,MAAMK,MAAM,GAAG,GAAG,GAAGP,MAAM,CAACC,GAAG,GAAGD,MAAM,CAACG,MAAM;;IAE/C;IACA,MAAMK,GAAG,GAAG/C,EAAE,CAAC2B,MAAM,CAACV,MAAM,CAACQ,OAAO,CAAC,CAClCuB,IAAI,CAAC,OAAO,EAAEJ,KAAK,GAAGL,MAAM,CAACI,IAAI,GAAGJ,MAAM,CAACE,KAAK,CAAC,CACjDO,IAAI,CAAC,QAAQ,EAAEF,MAAM,GAAGP,MAAM,CAACC,GAAG,GAAGD,MAAM,CAACG,MAAM,CAAC,CACnDO,MAAM,CAAC,GAAG,CAAC,CACXD,IAAI,CAAC,WAAW,EAAE,aAAaT,MAAM,CAACI,IAAI,IAAIJ,MAAM,CAACC,GAAG,GAAG,CAAC;;IAE/D;IACA,IAAI,CAACtB,UAAU,CAACO,OAAO,EAAE;MACvBP,UAAU,CAACO,OAAO,GAAGnB,aAAa,CAACN,EAAE,CAAC;IACxC;;IAEA;IACA,MAAMkD,CAAC,GAAGlD,EAAE,CAACmD,SAAS,CAAC,CAAC,CACrBC,MAAM,CAACtB,SAAS,CAACuB,GAAG,CAACrB,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAClCqB,KAAK,CAAC,CAAC,CAAC,EAAEV,KAAK,CAAC,CAAC,CACjBW,OAAO,CAAC,GAAG,CAAC;IAEf,MAAMC,CAAC,GAAGxD,EAAE,CAACyD,WAAW,CAAC,CAAC,CACvBL,MAAM,CAAC,CAAC,CAAC,EAAEpD,EAAE,CAAC0D,GAAG,CAAC5B,SAAS,EAAEE,CAAC,IAAIA,CAAC,CAAC2B,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAClDL,KAAK,CAAC,CAACR,MAAM,EAAE,CAAC,CAAC,CAAC;;IAErB;IACAC,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CACZD,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAC5BA,IAAI,CAAC,WAAW,EAAE,eAAeF,MAAM,GAAG,CAAC,CAC3Cc,IAAI,CAAC5D,EAAE,CAAC6D,UAAU,CAACX,CAAC,CAAC,CAAC,CACtBtB,SAAS,CAAC,MAAM,CAAC,CACjBkC,KAAK,CAAC,aAAa,EAAE,QAAQ,CAAC;IAEjCf,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CACZD,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAC5BY,IAAI,CAAC5D,EAAE,CAAC+D,QAAQ,CAACP,CAAC,CAAC,CAACQ,KAAK,CAAC,CAAC,CAAC,CAAC;;IAEhC;IACAjB,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CACZD,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CACrBY,IAAI,CAAC5D,EAAE,CAAC+D,QAAQ,CAACP,CAAC,CAAC,CACjBQ,KAAK,CAAC,CAAC,CAAC,CACRC,QAAQ,CAAC,CAACrB,KAAK,CAAC,CAChBsB,UAAU,CAAC,EAAE,CAAC,CAAC;;IAEpB;IACAnB,GAAG,CAACnB,SAAS,CAAC,MAAM,CAAC,CAClBjB,IAAI,CAACmB,SAAS,CAAC,CACfqC,KAAK,CAAC,CAAC,CACPlB,MAAM,CAAC,MAAM,CAAC,CACdD,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CACpBA,IAAI,CAAC,GAAG,EAAEhB,CAAC,IAAIkB,CAAC,CAAClB,CAAC,CAACC,IAAI,CAAC,CAAC,CACzBe,IAAI,CAAC,OAAO,EAAEE,CAAC,CAACkB,SAAS,CAAC,CAAC,CAAC,CAC5BpB,IAAI,CAAC,GAAG,EAAEhB,CAAC,IAAIwB,CAAC,CAACxB,CAAC,CAAC2B,KAAK,CAAC,CAAC,CAC1BX,IAAI,CAAC,QAAQ,EAAEhB,CAAC,IAAIc,MAAM,GAAGU,CAAC,CAACxB,CAAC,CAAC2B,KAAK,CAAC,CAAC,CACxCU,EAAE,CAAC,WAAW,EAAE,UAASC,KAAK,EAAEtC,CAAC,EAAE;MAClCd,UAAU,CAACO,OAAO,CAAC8C,UAAU,CAAC,CAAC,CAC5BC,QAAQ,CAAC,GAAG,CAAC,CACbV,KAAK,CAAC,SAAS,EAAE,EAAE,CAAC;MACvB5C,UAAU,CAACO,OAAO,CAACgD,IAAI,CAAC;AAChC,0BAA0BzC,CAAC,CAACC,IAAI;AAChC,mBAAmBD,CAAC,CAAC2B,KAAK;AAC1B,+BAA+BtD,YAAY,CAAC2B,CAAC,CAAC0C,KAAK,CAAC;AACpD,SAAS,CAAC,CACCZ,KAAK,CAAC,MAAM,EAAGQ,KAAK,CAACK,KAAK,GAAG,EAAE,GAAI,IAAI,CAAC,CACxCb,KAAK,CAAC,KAAK,EAAGQ,KAAK,CAACM,KAAK,GAAG,EAAE,GAAI,IAAI,CAAC;IAC5C,CAAC,CAAC,CACDP,EAAE,CAAC,UAAU,EAAE,YAAW;MACzBnD,UAAU,CAACO,OAAO,CAAC8C,UAAU,CAAC,CAAC,CAC5BC,QAAQ,CAAC,GAAG,CAAC,CACbV,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;IACxB,CAAC,CAAC;;IAEJ;IACA,MAAMe,aAAa,GAAG7E,EAAE,CAAC8E,IAAI,CAAC,CAAC,CAC5B5B,CAAC,CAAClB,CAAC,IAAIkB,CAAC,CAAClB,CAAC,CAACC,IAAI,CAAC,GAAGiB,CAAC,CAACkB,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CACrCZ,CAAC,CAACxB,CAAC,IAAIwB,CAAC,CAACxB,CAAC,CAAC0C,KAAK,IAAI1E,EAAE,CAAC0D,GAAG,CAAC5B,SAAS,EAAEE,CAAC,IAAIA,CAAC,CAAC2B,KAAK,CAAC,GAAG3D,EAAE,CAAC0D,GAAG,CAAC5B,SAAS,EAAEE,CAAC,IAAIA,CAAC,CAAC0C,KAAK,CAAC,CAAC,CAAC,CAAC,CACxFK,KAAK,CAAC/E,EAAE,CAACgF,cAAc,CAAC;IAE3BjC,GAAG,CAACE,MAAM,CAAC,MAAM,CAAC,CACfgC,KAAK,CAACnD,SAAS,CAAC,CAChBkB,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CACrBA,IAAI,CAAC,GAAG,EAAE6B,aAAa,CAAC,CACxBf,KAAK,CAAC,QAAQ,EAAE,qBAAqB,CAAC;;IAEzC;IACAf,GAAG,CAACnB,SAAS,CAAC,MAAM,CAAC,CAClBjB,IAAI,CAACmB,SAAS,CAAC,CACfqC,KAAK,CAAC,CAAC,CACPlB,MAAM,CAAC,QAAQ,CAAC,CAChBD,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CACpBA,IAAI,CAAC,IAAI,EAAEhB,CAAC,IAAIkB,CAAC,CAAClB,CAAC,CAACC,IAAI,CAAC,GAAGiB,CAAC,CAACkB,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAC9CpB,IAAI,CAAC,IAAI,EAAEhB,CAAC,IAAIwB,CAAC,CAACxB,CAAC,CAAC0C,KAAK,IAAI1E,EAAE,CAAC0D,GAAG,CAAC5B,SAAS,EAAEE,CAAC,IAAIA,CAAC,CAAC2B,KAAK,CAAC,GAAG3D,EAAE,CAAC0D,GAAG,CAAC5B,SAAS,EAAEE,CAAC,IAAIA,CAAC,CAAC0C,KAAK,CAAC,CAAC,CAAC,CAAC,CACjG1B,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CACZc,KAAK,CAAC,MAAM,EAAE,qBAAqB,CAAC,CACpCO,EAAE,CAAC,WAAW,EAAE,UAASC,KAAK,EAAEtC,CAAC,EAAE;MAClCd,UAAU,CAACO,OAAO,CAAC8C,UAAU,CAAC,CAAC,CAC5BC,QAAQ,CAAC,GAAG,CAAC,CACbV,KAAK,CAAC,SAAS,EAAE,EAAE,CAAC;MACvB5C,UAAU,CAACO,OAAO,CAACgD,IAAI,CAAC;AAChC,0BAA0BzC,CAAC,CAACC,IAAI;AAChC,+BAA+B5B,YAAY,CAAC2B,CAAC,CAAC0C,KAAK,CAAC;AACpD,mBAAmB1C,CAAC,CAAC2B,KAAK;AAC1B,SAAS,CAAC,CACCG,KAAK,CAAC,MAAM,EAAGQ,KAAK,CAACK,KAAK,GAAG,EAAE,GAAI,IAAI,CAAC,CACxCb,KAAK,CAAC,KAAK,EAAGQ,KAAK,CAACM,KAAK,GAAG,EAAE,GAAI,IAAI,CAAC;IAC5C,CAAC,CAAC,CACDP,EAAE,CAAC,UAAU,EAAE,YAAW;MACzBnD,UAAU,CAACO,OAAO,CAAC8C,UAAU,CAAC,CAAC,CAC5BC,QAAQ,CAAC,GAAG,CAAC,CACbV,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;IACxB,CAAC,CAAC;;IAEJ;IACA,MAAMoB,MAAM,GAAGnC,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAC3BD,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAC7BA,IAAI,CAAC,WAAW,EAAE,aAAaJ,KAAK,GAAG,GAAG,OAAO,CAAC;IAErDsC,MAAM,CAACjC,MAAM,CAAC,MAAM,CAAC,CAClBD,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CACjBA,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAClBA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CACpBA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;IAEhBkC,MAAM,CAACjC,MAAM,CAAC,MAAM,CAAC,CAClBD,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CACbA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CACZA,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CACnBc,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,CAC1BqB,IAAI,CAAC,oBAAoB,CAAC;IAE7BD,MAAM,CAACjC,MAAM,CAAC,QAAQ,CAAC,CACpBD,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CACbA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CACdA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CACZc,KAAK,CAAC,MAAM,EAAE,qBAAqB,CAAC;IAEvCoB,MAAM,CAACjC,MAAM,CAAC,MAAM,CAAC,CAClBD,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CACbA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CACbA,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CACnBc,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,CAC1BqB,IAAI,CAAC,mBAAmB,CAAC;;IAE5B;IACApC,GAAG,CAACE,MAAM,CAAC,MAAM,CAAC,CACfD,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAC3BA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7BA,IAAI,CAAC,GAAG,EAAEJ,KAAK,GAAG,CAAC,CAAC,CACpBI,IAAI,CAAC,GAAG,EAAEF,MAAM,GAAGP,MAAM,CAACG,MAAM,GAAG,EAAE,CAAC,CACtCyC,IAAI,CAAC,MAAM,CAAC;IAEfpC,GAAG,CAACE,MAAM,CAAC,MAAM,CAAC,CACfD,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAC3BA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7BA,IAAI,CAAC,WAAW,EAAE,aAAa,CAAC,CAChCA,IAAI,CAAC,GAAG,EAAE,CAACF,MAAM,GAAG,CAAC,CAAC,CACtBE,IAAI,CAAC,GAAG,EAAE,CAACT,MAAM,CAACI,IAAI,GAAG,EAAE,CAAC,CAC5BwC,IAAI,CAAC,OAAO,CAAC;EAClB,CAAC;;EAED;EACArF,SAAS,CAAC,MAAM;IACd,MAAMsF,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIzE,IAAI,CAACa,MAAM,GAAG,CAAC,EAAE;QACnBE,SAAS,CAAC,CAAC;MACb;IACF,CAAC;IAED2D,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEF,YAAY,CAAC;IAC/C,OAAO,MAAM;MACXC,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEH,YAAY,CAAC;MAClD;MACA,IAAIlE,UAAU,CAACO,OAAO,EAAE;QACtBzB,EAAE,CAAC2B,MAAM,CAAC,aAAa,CAAC,CAACE,MAAM,CAAC,CAAC;QACjCX,UAAU,CAACO,OAAO,GAAG,IAAI;MAC3B;IACF,CAAC;EACH,CAAC,EAAE,CAACd,IAAI,CAAC,CAAC;EAEV,MAAM6E,aAAa,gBACjBhF,OAAA;IAAQiF,SAAS,EAAC,aAAa;IAACC,OAAO,EAAEA,CAAA,KAAM;MAC7C5E,UAAU,CAAC,IAAI,CAAC;MAChBb,GAAG,CAACoB,UAAU,CAAC,MAAM,EAAE,WAAW,CAAC,CAChCsE,IAAI,CAACvE,MAAM,IAAI;QACdR,OAAO,CAACQ,MAAM,CAAC;QACfN,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,CACD8E,KAAK,CAACtE,GAAG,IAAI;QACZN,QAAQ,CAAC,wBAAwB,CAAC;QAClCF,UAAU,CAAC,KAAK,CAAC;QACjBS,OAAO,CAACR,KAAK,CAACO,GAAG,CAAC;MACpB,CAAC,CAAC;IACN,CAAE;IAAAuE,QAAA,eACArF,OAAA;MAAGiF,SAAS,EAAC;IAAiB;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7B,CACT;EAED,oBACEzF,OAAA,CAACN,aAAa;IAACgG,KAAK,EAAC,+BAA+B;IAACV,aAAa,EAAEA,aAAc;IAAAK,QAAA,EAC/EhF,OAAO,gBACNL,OAAA,CAACL,MAAM;MAACgG,OAAO,EAAC;IAAmC;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GACpDlF,KAAK,gBACPP,OAAA,CAACJ,aAAa;MAAC+F,OAAO,EAAEpF,KAAM;MAACqF,IAAI,EAAC;IAAI;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GACzCtF,IAAI,CAACa,MAAM,KAAK,CAAC,gBACnBhB,OAAA,CAACJ,aAAa;MAAC+F,OAAO,EAAC;IAAqC;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAE/DzF,OAAA;MAAK6F,GAAG,EAAEpF,MAAO;MAACwE,SAAS,EAAC;IAAW;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAC9C;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAEpB,CAAC;AAACvF,EAAA,CAhQID,qBAAqB;AAAA6F,EAAA,GAArB7F,qBAAqB;AAkQ3B,eAAeA,qBAAqB;AAAC,IAAA6F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}