{"ast":null,"code":"// Function to handle sending a message to the API and receiving a response\nexport const sendChatMessage = async (message, customerId) => {\n  try {\n    // Prepare the data to send to the API\n    const data = {\n      message,\n      customer_id: customerId || 'guest' // Default to 'guest' if no customer ID\n    };\n\n    // Make the API request\n    const response = await fetch('http://localhost:5000/api/chat', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n\n    // Check if the response is successful\n    if (!response.ok) {\n      throw new Error('Failed to send message');\n    }\n\n    // Parse the JSON response from the backend\n    const responseData = await response.json();\n\n    // Return the response data containing the chatbot response, properties, and customer data\n    return {\n      response: responseData.response,\n      properties: responseData.properties,\n      // Includes property images, prices, descriptions\n      customerData: responseData.customer_data\n    };\n  } catch (error) {\n    console.error('Error sending chat message:', error);\n    return {\n      error: 'An error occurred while processing the chat message'\n    };\n  }\n};","map":{"version":3,"names":["sendChatMessage","message","customerId","data","customer_id","response","fetch","method","headers","body","JSON","stringify","ok","Error","responseData","json","properties","customerData","customer_data","error","console"],"sources":["C:/Users/Dell/OneDrive/Desktop/new/frontend/src/api/chatApi.js"],"sourcesContent":["\r\n\r\n// Function to handle sending a message to the API and receiving a response\r\nexport const sendChatMessage = async (message, customerId) => {\r\n  try {\r\n    // Prepare the data to send to the API\r\n    const data = {\r\n      message,\r\n      customer_id: customerId || 'guest', // Default to 'guest' if no customer ID\r\n    };\r\n\r\n    // Make the API request\r\n    const response = await fetch('http://localhost:5000/api/chat', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    // Check if the response is successful\r\n    if (!response.ok) {\r\n      throw new Error('Failed to send message');\r\n    }\r\n\r\n    // Parse the JSON response from the backend\r\n    const responseData = await response.json();\r\n\r\n    // Return the response data containing the chatbot response, properties, and customer data\r\n    return {\r\n      response: responseData.response,\r\n      properties: responseData.properties, // Includes property images, prices, descriptions\r\n      customerData: responseData.customer_data,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error sending chat message:', error);\r\n    return { error: 'An error occurred while processing the chat message' };\r\n  }\r\n};\r\n"],"mappings":"AAEA;AACA,OAAO,MAAMA,eAAe,GAAG,MAAAA,CAAOC,OAAO,EAAEC,UAAU,KAAK;EAC5D,IAAI;IACF;IACA,MAAMC,IAAI,GAAG;MACXF,OAAO;MACPG,WAAW,EAAEF,UAAU,IAAI,OAAO,CAAE;IACtC,CAAC;;IAED;IACA,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;MAC7DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI;IAC3B,CAAC,CAAC;;IAEF;IACA,IAAI,CAACE,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC3C;;IAEA;IACA,MAAMC,YAAY,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;;IAE1C;IACA,OAAO;MACLV,QAAQ,EAAES,YAAY,CAACT,QAAQ;MAC/BW,UAAU,EAAEF,YAAY,CAACE,UAAU;MAAE;MACrCC,YAAY,EAAEH,YAAY,CAACI;IAC7B,CAAC;EACH,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO;MAAEA,KAAK,EAAE;IAAsD,CAAC;EACzE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}