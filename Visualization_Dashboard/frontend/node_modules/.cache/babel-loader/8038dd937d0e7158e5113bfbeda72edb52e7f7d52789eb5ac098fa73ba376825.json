{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\OneDrive\\\\Desktop\\\\new\\\\frontend\\\\src\\\\components\\\\charts\\\\IntensityChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport api from '../../services/api';\nimport CardContainer from '../common/CardContainer';\nimport Loader from '../common/Loader';\nimport NoDataMessage from '../common/NoDataMessage';\nimport { formatNumber, createTooltip } from '../../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IntensityChart = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [chartType, setChartType] = useState('bar'); // 'bar' or 'horizontal'\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const result = await api.getTopN('intensity', 'country', 10);\n        setData(result);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to load intensity data');\n        setLoading(false);\n        console.error(err);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (data.length > 0 && svgRef.current) {\n      drawChart();\n    }\n  }, [data, chartType]);\n  const drawChart = () => {\n    // Clear previous chart\n    d3.select(svgRef.current).selectAll('*').remove();\n\n    // Chart dimensions\n    const margin = chartType === 'bar' ? {\n      top: 20,\n      right: 30,\n      bottom: 60,\n      left: 60\n    } : {\n      top: 20,\n      right: 30,\n      bottom: 40,\n      left: 120\n    };\n    const width = svgRef.current.clientWidth - margin.left - margin.right;\n    const height = 350 - margin.top - margin.bottom;\n\n    // Create SVG\n    const svg = d3.select(svgRef.current).attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Create tooltip\n    if (!tooltipRef.current) {\n      tooltipRef.current = createTooltip(d3);\n    }\n\n    // Color scale for bars\n    const colorScale = d3.scaleLinear().domain([0, d3.max(data, d => d.value)]).range(['#74b9ff', '#0984e3']);\n    if (chartType === 'bar') {\n      // Vertical bar chart\n\n      // Scales\n      const x = d3.scaleBand().domain(data.map(d => d.name)).range([0, width]).padding(0.2);\n      const y = d3.scaleLinear().domain([0, d3.max(data, d => d.value) * 1.1]).range([height, 0]);\n\n      // Background grid lines\n      svg.append('g').attr('class', 'grid').attr('opacity', 0.1).call(d3.axisLeft(y).ticks(5).tickSize(-width).tickFormat(''));\n\n      // Axes\n      svg.append('g').attr('class', 'axis x-axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x)).selectAll('text').attr('transform', 'rotate(-45)').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').style('font-size', '10px');\n      svg.append('g').attr('class', 'axis y-axis').call(d3.axisLeft(y).ticks(5));\n\n      // Bars\n      svg.selectAll('.bar').data(data).enter().append('rect').attr('class', 'bar').attr('x', d => x(d.name)).attr('width', x.bandwidth()).attr('y', d => y(d.value)).attr('height', 0) // Start with height 0 for animation\n      .attr('fill', d => colorScale(d.value)).attr('rx', 2) // Rounded corners\n      .attr('ry', 2).transition() // Add transition for animation\n      .duration(800).delay((d, i) => i * 50) // Stagger the animation\n      .attr('height', d => height - y(d.value));\n\n      // Add interactive hover effects after transition\n      svg.selectAll('.bar').data(data).enter().append('rect').attr('class', 'bar-overlay').attr('x', d => x(d.name)).attr('width', x.bandwidth()).attr('y', d => y(d.value)).attr('height', d => height - y(d.value)).attr('opacity', 0) // Invisible overlay\n      .on('mouseover', function (event, d) {\n        // Highlight bar\n        d3.select(this.parentNode).selectAll('.bar').filter(bar => bar.name === d.name).transition().duration(300).attr('fill', '#0057ff').attr('opacity', 1);\n\n        // Show tooltip\n        tooltipRef.current.transition().duration(200).style('opacity', .9);\n        tooltipRef.current.html(`\n            <div style=\"background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 4px;\">\n              <strong>${d.name}</strong><br/>\n              Intensity: ${formatNumber(d.value)}<br/>\n              Count: ${d.count}\n            </div>\n          `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', function (event, d) {\n        // Restore bar color\n        d3.select(this.parentNode).selectAll('.bar').filter(bar => bar.name === d.name).transition().duration(300).attr('fill', colorScale(d.value));\n\n        // Hide tooltip\n        tooltipRef.current.transition().duration(500).style('opacity', 0);\n      });\n\n      // Axes labels\n      svg.append('text').attr('class', 'axis-label').attr('text-anchor', 'middle').attr('x', width / 2).attr('y', height + margin.bottom - 10).text('Country').style('font-size', '12px');\n      svg.append('text').attr('class', 'axis-label').attr('text-anchor', 'middle').attr('transform', 'rotate(-90)').attr('x', -height / 2).attr('y', -margin.left + 15).text('Average Intensity').style('font-size', '12px');\n\n      // Add value labels on top of bars\n      svg.selectAll('.bar-label').data(data).enter().append('text').attr('class', 'bar-label').attr('x', d => x(d.name) + x.bandwidth() / 2).attr('y', d => y(d.value) - 5).attr('text-anchor', 'middle').style('font-size', '9px').style('opacity', 0).text(d => formatNumber(d.value)).transition().duration(800).delay((d, i) => i * 50 + 400) // Start after bar animation\n      .style('opacity', 1);\n    } else {\n      // Horizontal bar chart for better readability with many data points\n\n      // Sort data for horizontal chart\n      const sortedData = [...data].sort((a, b) => a.value - b.value);\n\n      // Scales\n      const x = d3.scaleLinear().domain([0, d3.max(sortedData, d => d.value) * 1.1]).range([0, width]);\n      const y = d3.scaleBand().domain(sortedData.map(d => d.name)).range([0, height]).padding(0.2);\n\n      // Background grid\n      svg.append('g').attr('class', 'grid').attr('opacity', 0.1).call(d3.axisBottom(x).ticks(5).tickSize(height).tickFormat(''));\n\n      // Axes\n      svg.append('g').attr('class', 'axis x-axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x).ticks(5));\n      svg.append('g').attr('class', 'axis y-axis').call(d3.axisLeft(y));\n\n      // Bars\n      svg.selectAll('.bar').data(sortedData).enter().append('rect').attr('class', 'bar').attr('y', d => y(d.name)).attr('height', y.bandwidth()).attr('x', 0).attr('width', 0) // Start with width 0 for animation\n      .attr('fill', d => colorScale(d.value)).attr('rx', 2) // Rounded corners\n      .attr('ry', 2).transition() // Add transition for animation\n      .duration(800).delay((d, i) => i * 50).attr('width', d => x(d.value));\n\n      // Add interactive hover effects after transition\n      svg.selectAll('.bar-overlay').data(sortedData).enter().append('rect').attr('class', 'bar-overlay').attr('y', d => y(d.name)).attr('height', y.bandwidth()).attr('x', 0).attr('width', d => x(d.value)).attr('opacity', 0) // Invisible overlay\n      .on('mouseover', function (event, d) {\n        // Highlight bar\n        d3.select(this.parentNode).selectAll('.bar').filter(bar => bar.name === d.name).transition().duration(300).attr('fill', '#0057ff');\n\n        // Show tooltip\n        tooltipRef.current.transition().duration(200).style('opacity', .9);\n        tooltipRef.current.html(`\n            <div style=\"background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 4px;\">\n              <strong>${d.name}</strong><br/>\n              Intensity: ${formatNumber(d.value)}<br/>\n              Count: ${d.count}\n            </div>\n          `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', function (event, d) {\n        // Restore bar color\n        d3.select(this.parentNode).selectAll('.bar').filter(bar => bar.name === d.name).transition().duration(300).attr('fill', colorScale(d.value));\n\n        // Hide tooltip\n        tooltipRef.current.transition().duration(500).style('opacity', 0);\n      });\n\n      // Axes labels\n      svg.append('text').attr('class', 'axis-label').attr('text-anchor', 'middle').attr('x', width / 2).attr('y', height + 30).text('Average Intensity').style('font-size', '12px');\n\n      // Add value labels at the end of bars\n      svg.selectAll('.bar-label').data(sortedData).enter().append('text').attr('class', 'bar-label').attr('x', d => x(d.value) + 5).attr('y', d => y(d.name) + y.bandwidth() / 2).attr('dominant-baseline', 'middle').style('font-size', '9px').style('opacity', 0).text(d => formatNumber(d.value)).transition().duration(800).delay((d, i) => i * 50 + 400) // Start after bar animation\n      .style('opacity', 1);\n    }\n  };\n\n  // Resize handler\n  useEffect(() => {\n    const handleResize = () => {\n      if (data.length > 0) {\n        drawChart();\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      // Clean up tooltip when component unmounts\n      if (tooltipRef.current) {\n        d3.select('.d3-tooltip').remove();\n        tooltipRef.current = null;\n      }\n    };\n  }, [data, chartType]);\n  const toggleChartType = () => {\n    setChartType(chartType === 'bar' ? 'horizontal' : 'bar');\n  };\n  const actionButtons = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-action-buttons\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"chart-type-btn\",\n      onClick: toggleChartType,\n      title: \"Toggle chart type\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fas fa-${chartType === 'bar' ? 'align-left' : 'bars'}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"refresh-btn\",\n      onClick: () => {\n        setLoading(true);\n        api.getTopN('intensity', 'country', 10).then(result => {\n          setData(result);\n          setLoading(false);\n        }).catch(err => {\n          setError('Failed to refresh data');\n          setLoading(false);\n          console.error(err);\n        });\n      },\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-sync-alt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 362,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    title: \"Top Countries by Intensity\",\n    actionButtons: actionButtons,\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n      message: \"Loading intensity data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(NoDataMessage, {\n      message: error,\n      icon: \"\\u26A0\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 9\n    }, this) : data.length === 0 ? /*#__PURE__*/_jsxDEV(NoDataMessage, {\n      message: \"No intensity data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        className: \"chart-svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 385,\n    columnNumber: 5\n  }, this);\n};\n_s(IntensityChart, \"rNCxK0jhBio3ky4ojG83pR/JQjY=\");\n_c = IntensityChart;\nexport default IntensityChart;\nvar _c;\n$RefreshReg$(_c, \"IntensityChart\");","map":{"version":3,"names":["React","useState","useEffect","useRef","d3","api","CardContainer","Loader","NoDataMessage","formatNumber","createTooltip","jsxDEV","_jsxDEV","IntensityChart","_s","data","setData","loading","setLoading","error","setError","chartType","setChartType","svgRef","tooltipRef","fetchData","result","getTopN","err","console","length","current","drawChart","select","selectAll","remove","margin","top","right","bottom","left","width","clientWidth","height","svg","attr","append","colorScale","scaleLinear","domain","max","d","value","range","x","scaleBand","map","name","padding","y","call","axisLeft","ticks","tickSize","tickFormat","axisBottom","style","enter","bandwidth","transition","duration","delay","i","on","event","parentNode","filter","bar","html","count","pageX","pageY","text","sortedData","sort","a","b","handleResize","window","addEventListener","removeEventListener","toggleChartType","actionButtons","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","then","catch","message","icon","ref","_c","$RefreshReg$"],"sources":["C:/Users/Dell/OneDrive/Desktop/new/frontend/src/components/charts/IntensityChart.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\nimport api from '../../services/api';\r\nimport CardContainer from '../common/CardContainer';\r\nimport Loader from '../common/Loader';\r\nimport NoDataMessage from '../common/NoDataMessage';\r\nimport { formatNumber, createTooltip } from '../../utils/helpers';\r\n\r\nconst IntensityChart = () => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [chartType, setChartType] = useState('bar'); // 'bar' or 'horizontal'\r\n  const svgRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const result = await api.getTopN('intensity', 'country', 10);\r\n        setData(result);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to load intensity data');\r\n        setLoading(false);\r\n        console.error(err);\r\n      }\r\n    };\r\n    \r\n    fetchData();\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    if (data.length > 0 && svgRef.current) {\r\n      drawChart();\r\n    }\r\n  }, [data, chartType]);\r\n  \r\n  const drawChart = () => {\r\n    // Clear previous chart\r\n    d3.select(svgRef.current).selectAll('*').remove();\r\n    \r\n    // Chart dimensions\r\n    const margin = chartType === 'bar' \r\n      ? { top: 20, right: 30, bottom: 60, left: 60 } \r\n      : { top: 20, right: 30, bottom: 40, left: 120 };\r\n    const width = svgRef.current.clientWidth - margin.left - margin.right;\r\n    const height = 350 - margin.top - margin.bottom;\r\n    \r\n    // Create SVG\r\n    const svg = d3.select(svgRef.current)\r\n      .attr('width', width + margin.left + margin.right)\r\n      .attr('height', height + margin.top + margin.bottom)\r\n      .append('g')\r\n      .attr('transform', `translate(${margin.left},${margin.top})`);\r\n    \r\n    // Create tooltip\r\n    if (!tooltipRef.current) {\r\n      tooltipRef.current = createTooltip(d3);\r\n    }\r\n    \r\n    // Color scale for bars\r\n    const colorScale = d3.scaleLinear()\r\n      .domain([0, d3.max(data, d => d.value)])\r\n      .range(['#74b9ff', '#0984e3']);\r\n    \r\n    if (chartType === 'bar') {\r\n      // Vertical bar chart\r\n      \r\n      // Scales\r\n      const x = d3.scaleBand()\r\n        .domain(data.map(d => d.name))\r\n        .range([0, width])\r\n        .padding(0.2);\r\n      \r\n      const y = d3.scaleLinear()\r\n        .domain([0, d3.max(data, d => d.value) * 1.1])\r\n        .range([height, 0]);\r\n      \r\n      // Background grid lines\r\n      svg.append('g')\r\n        .attr('class', 'grid')\r\n        .attr('opacity', 0.1)\r\n        .call(d3.axisLeft(y)\r\n          .ticks(5)\r\n          .tickSize(-width)\r\n          .tickFormat(''));\r\n      \r\n      // Axes\r\n      svg.append('g')\r\n        .attr('class', 'axis x-axis')\r\n        .attr('transform', `translate(0,${height})`)\r\n        .call(d3.axisBottom(x))\r\n        .selectAll('text')\r\n        .attr('transform', 'rotate(-45)')\r\n        .style('text-anchor', 'end')\r\n        .attr('dx', '-.8em')\r\n        .attr('dy', '.15em')\r\n        .style('font-size', '10px');\r\n      \r\n      svg.append('g')\r\n        .attr('class', 'axis y-axis')\r\n        .call(d3.axisLeft(y).ticks(5));\r\n      \r\n      // Bars\r\n      svg.selectAll('.bar')\r\n        .data(data)\r\n        .enter()\r\n        .append('rect')\r\n        .attr('class', 'bar')\r\n        .attr('x', d => x(d.name))\r\n        .attr('width', x.bandwidth())\r\n        .attr('y', d => y(d.value))\r\n        .attr('height', 0) // Start with height 0 for animation\r\n        .attr('fill', d => colorScale(d.value))\r\n        .attr('rx', 2) // Rounded corners\r\n        .attr('ry', 2)\r\n        .transition() // Add transition for animation\r\n        .duration(800)\r\n        .delay((d, i) => i * 50) // Stagger the animation\r\n        .attr('height', d => height - y(d.value));\r\n      \r\n      // Add interactive hover effects after transition\r\n      svg.selectAll('.bar')\r\n        .data(data)\r\n        .enter()\r\n        .append('rect')\r\n        .attr('class', 'bar-overlay')\r\n        .attr('x', d => x(d.name))\r\n        .attr('width', x.bandwidth())\r\n        .attr('y', d => y(d.value))\r\n        .attr('height', d => height - y(d.value))\r\n        .attr('opacity', 0) // Invisible overlay\r\n        .on('mouseover', function(event, d) {\r\n          // Highlight bar\r\n          d3.select(this.parentNode)\r\n            .selectAll('.bar')\r\n            .filter((bar) => bar.name === d.name)\r\n            .transition()\r\n            .duration(300)\r\n            .attr('fill', '#0057ff')\r\n            .attr('opacity', 1);\r\n          \r\n          // Show tooltip\r\n          tooltipRef.current.transition()\r\n            .duration(200)\r\n            .style('opacity', .9);\r\n          tooltipRef.current.html(`\r\n            <div style=\"background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 4px;\">\r\n              <strong>${d.name}</strong><br/>\r\n              Intensity: ${formatNumber(d.value)}<br/>\r\n              Count: ${d.count}\r\n            </div>\r\n          `)\r\n            .style('left', (event.pageX + 10) + 'px')\r\n            .style('top', (event.pageY - 28) + 'px');\r\n        })\r\n        .on('mouseout', function(event, d) {\r\n          // Restore bar color\r\n          d3.select(this.parentNode)\r\n            .selectAll('.bar')\r\n            .filter((bar) => bar.name === d.name)\r\n            .transition()\r\n            .duration(300)\r\n            .attr('fill', colorScale(d.value));\r\n          \r\n          // Hide tooltip\r\n          tooltipRef.current.transition()\r\n            .duration(500)\r\n            .style('opacity', 0);\r\n        });\r\n      \r\n      // Axes labels\r\n      svg.append('text')\r\n        .attr('class', 'axis-label')\r\n        .attr('text-anchor', 'middle')\r\n        .attr('x', width / 2)\r\n        .attr('y', height + margin.bottom - 10)\r\n        .text('Country')\r\n        .style('font-size', '12px');\r\n      \r\n      svg.append('text')\r\n        .attr('class', 'axis-label')\r\n        .attr('text-anchor', 'middle')\r\n        .attr('transform', 'rotate(-90)')\r\n        .attr('x', -height / 2)\r\n        .attr('y', -margin.left + 15)\r\n        .text('Average Intensity')\r\n        .style('font-size', '12px');\r\n        \r\n      // Add value labels on top of bars\r\n      svg.selectAll('.bar-label')\r\n        .data(data)\r\n        .enter()\r\n        .append('text')\r\n        .attr('class', 'bar-label')\r\n        .attr('x', d => x(d.name) + x.bandwidth() / 2)\r\n        .attr('y', d => y(d.value) - 5)\r\n        .attr('text-anchor', 'middle')\r\n        .style('font-size', '9px')\r\n        .style('opacity', 0)\r\n        .text(d => formatNumber(d.value))\r\n        .transition()\r\n        .duration(800)\r\n        .delay((d, i) => i * 50 + 400) // Start after bar animation\r\n        .style('opacity', 1);\r\n    } else {\r\n      // Horizontal bar chart for better readability with many data points\r\n      \r\n      // Sort data for horizontal chart\r\n      const sortedData = [...data].sort((a, b) => a.value - b.value);\r\n      \r\n      // Scales\r\n      const x = d3.scaleLinear()\r\n        .domain([0, d3.max(sortedData, d => d.value) * 1.1])\r\n        .range([0, width]);\r\n      \r\n      const y = d3.scaleBand()\r\n        .domain(sortedData.map(d => d.name))\r\n        .range([0, height])\r\n        .padding(0.2);\r\n      \r\n      // Background grid\r\n      svg.append('g')\r\n        .attr('class', 'grid')\r\n        .attr('opacity', 0.1)\r\n        .call(d3.axisBottom(x)\r\n          .ticks(5)\r\n          .tickSize(height)\r\n          .tickFormat(''));\r\n      \r\n      // Axes\r\n      svg.append('g')\r\n        .attr('class', 'axis x-axis')\r\n        .attr('transform', `translate(0,${height})`)\r\n        .call(d3.axisBottom(x).ticks(5));\r\n      \r\n      svg.append('g')\r\n        .attr('class', 'axis y-axis')\r\n        .call(d3.axisLeft(y));\r\n      \r\n      // Bars\r\n      svg.selectAll('.bar')\r\n        .data(sortedData)\r\n        .enter()\r\n        .append('rect')\r\n        .attr('class', 'bar')\r\n        .attr('y', d => y(d.name))\r\n        .attr('height', y.bandwidth())\r\n        .attr('x', 0)\r\n        .attr('width', 0) // Start with width 0 for animation\r\n        .attr('fill', d => colorScale(d.value))\r\n        .attr('rx', 2) // Rounded corners\r\n        .attr('ry', 2)\r\n        .transition() // Add transition for animation\r\n        .duration(800)\r\n        .delay((d, i) => i * 50)\r\n        .attr('width', d => x(d.value));\r\n      \r\n      // Add interactive hover effects after transition\r\n      svg.selectAll('.bar-overlay')\r\n        .data(sortedData)\r\n        .enter()\r\n        .append('rect')\r\n        .attr('class', 'bar-overlay')\r\n        .attr('y', d => y(d.name))\r\n        .attr('height', y.bandwidth())\r\n        .attr('x', 0)\r\n        .attr('width', d => x(d.value))\r\n        .attr('opacity', 0) // Invisible overlay\r\n        .on('mouseover', function(event, d) {\r\n          // Highlight bar\r\n          d3.select(this.parentNode)\r\n            .selectAll('.bar')\r\n            .filter((bar) => bar.name === d.name)\r\n            .transition()\r\n            .duration(300)\r\n            .attr('fill', '#0057ff');\r\n          \r\n          // Show tooltip\r\n          tooltipRef.current.transition()\r\n            .duration(200)\r\n            .style('opacity', .9);\r\n          tooltipRef.current.html(`\r\n            <div style=\"background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 4px;\">\r\n              <strong>${d.name}</strong><br/>\r\n              Intensity: ${formatNumber(d.value)}<br/>\r\n              Count: ${d.count}\r\n            </div>\r\n          `)\r\n            .style('left', (event.pageX + 10) + 'px')\r\n            .style('top', (event.pageY - 28) + 'px');\r\n        })\r\n        .on('mouseout', function(event, d) {\r\n          // Restore bar color\r\n          d3.select(this.parentNode)\r\n            .selectAll('.bar')\r\n            .filter((bar) => bar.name === d.name)\r\n            .transition()\r\n            .duration(300)\r\n            .attr('fill', colorScale(d.value));\r\n          \r\n          // Hide tooltip\r\n          tooltipRef.current.transition()\r\n            .duration(500)\r\n            .style('opacity', 0);\r\n        });\r\n      \r\n      // Axes labels\r\n      svg.append('text')\r\n        .attr('class', 'axis-label')\r\n        .attr('text-anchor', 'middle')\r\n        .attr('x', width / 2)\r\n        .attr('y', height + 30)\r\n        .text('Average Intensity')\r\n        .style('font-size', '12px');\r\n      \r\n      // Add value labels at the end of bars\r\n      svg.selectAll('.bar-label')\r\n        .data(sortedData)\r\n        .enter()\r\n        .append('text')\r\n        .attr('class', 'bar-label')\r\n        .attr('x', d => x(d.value) + 5)\r\n        .attr('y', d => y(d.name) + y.bandwidth() / 2)\r\n        .attr('dominant-baseline', 'middle')\r\n        .style('font-size', '9px')\r\n        .style('opacity', 0)\r\n        .text(d => formatNumber(d.value))\r\n        .transition()\r\n        .duration(800)\r\n        .delay((d, i) => i * 50 + 400) // Start after bar animation\r\n        .style('opacity', 1);\r\n    }\r\n  };\r\n  \r\n  // Resize handler\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (data.length > 0) {\r\n        drawChart();\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      // Clean up tooltip when component unmounts\r\n      if (tooltipRef.current) {\r\n        d3.select('.d3-tooltip').remove();\r\n        tooltipRef.current = null;\r\n      }\r\n    };\r\n  }, [data, chartType]);\r\n  \r\n  const toggleChartType = () => {\r\n    setChartType(chartType === 'bar' ? 'horizontal' : 'bar');\r\n  };\r\n  \r\n  const actionButtons = (\r\n    <div className=\"chart-action-buttons\">\r\n      <button className=\"chart-type-btn\" onClick={toggleChartType} title=\"Toggle chart type\">\r\n        <i className={`fas fa-${chartType === 'bar' ? 'align-left' : 'bars'}`}></i>\r\n      </button>\r\n      <button className=\"refresh-btn\" onClick={() => {\r\n        setLoading(true);\r\n        api.getTopN('intensity', 'country', 10)\r\n          .then(result => {\r\n            setData(result);\r\n            setLoading(false);\r\n          })\r\n          .catch(err => {\r\n            setError('Failed to refresh data');\r\n            setLoading(false);\r\n            console.error(err);\r\n          });\r\n      }}>\r\n        <i className=\"fas fa-sync-alt\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n  \r\n  return (\r\n    <CardContainer title=\"Top Countries by Intensity\" actionButtons={actionButtons}>\r\n      {loading ? (\r\n        <Loader message=\"Loading intensity data...\" />\r\n      ) : error ? (\r\n        <NoDataMessage message={error} icon=\"⚠️\" />\r\n      ) : data.length === 0 ? (\r\n        <NoDataMessage message=\"No intensity data available\" />\r\n      ) : (\r\n        <div className=\"chart-container\">\r\n          <svg ref={svgRef} className=\"chart-svg\"></svg>\r\n        </div>\r\n      )}\r\n    </CardContainer>\r\n  );\r\n};\r\n\r\nexport default IntensityChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}